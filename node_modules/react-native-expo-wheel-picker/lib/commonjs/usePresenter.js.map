{"version":3,"sources":["usePresenter.ts"],"names":["usePresenter","initialValue","items","propItems","valueAttribute","labelAttribute","numberOfVisibleRows","map","item","value","label","defaultIndex","currentIndex","setCurrentIndex","onValueChange","event","Math","floor","nativeEvent","contentOffset","y","itemHeight","getRowItemByIndex","index","height"],"mappings":";;;;;;;AACA;;AACA;;AACA;;AACA;;;;AAJA;AAce,SAASA,YAAT,OAMJ;AAAA,MAN0B;AACnCC,IAAAA,YADmC;AAEnCC,IAAAA,KAAK,EAAEC,SAF4B;AAGnCC,IAAAA,cAHmC;AAInCC,IAAAA,cAJmC;AAKnCC,IAAAA;AALmC,GAM1B;AACT,QAAMJ,KAAK,GAAGC,SAAS,CAACI,GAAV,CAAeC,IAAD,IAAe;AACzC,WAAO;AACLC,MAAAA,KAAK,EAAED,IAAI,CAACJ,cAAD,CADN;AAELM,MAAAA,KAAK,EAAEF,IAAI,CAACH,cAAD;AAFN,KAAP;AAID,GALa,CAAd;AAOA,QAAMM,YAAY,GAAG,0BAAYV,YAAZ,IACjB,CADiB,GAEjB,wBAAUC,KAAV,EAAiB;AAAEO,IAAAA,KAAK,EAAER;AAAT,GAAjB,CAFJ;AAIA,QAAM,CAACW,YAAD,EAAeC,eAAf,IAAkC,qBAASF,YAAT,CAAxC;AAEA,QAAMG,aAAa,GAAG,wBAAaC,KAAD,IAAW;AAC3CF,IAAAA,eAAe,CAACG,IAAI,CAACC,KAAL,CAAWF,KAAK,CAACG,WAAN,CAAkBC,aAAlB,CAAgCC,CAAhC,GAAoCC,oBAA/C,CAAD,CAAf;AACD,GAFqB,EAEnB,EAFmB,CAAtB;;AAIA,QAAMC,iBAAiB,GAAIC,KAAD,IAAmB;AAC3C,WAAOrB,KAAK,CAACqB,KAAD,CAAZ;AACD,GAFD;;AAIA,SAAO;AACLrB,IAAAA,KADK;AAELY,IAAAA,aAFK;AAGLF,IAAAA,YAHK;AAILD,IAAAA,YAAY,EAAEA,YAAY,GAAG,CAAC,CAAhB,GAAoBA,YAApB,GAAmC,CAJ5C;AAKLW,IAAAA,iBALK;AAMLE,IAAAA,MAAM,EAAElB,mBAAmB,GAAGe;AANzB,GAAP;AAQD","sourcesContent":["// src/usePresenter.ts\nimport { useCallback, useState } from 'react';\nimport findIndex from 'lodash/findIndex';\nimport isUndefined from 'lodash/isUndefined';\nimport { itemHeight } from './constant';\n\ninterface IProps {\n  initialValue: any | undefined;\n  items: any[];\n  valueAttribute: string;\n  labelAttribute: string;\n  numberOfVisibleRows: number;\n}\n\nexport default function usePresenter({\n  initialValue,\n  items: propItems,\n  valueAttribute,\n  labelAttribute,\n  numberOfVisibleRows,\n}: IProps) {\n  const items = propItems.map((item: any) => {\n    return {\n      value: item[valueAttribute],\n      label: item[labelAttribute],\n    };\n  });\n\n  const defaultIndex = isUndefined(initialValue)\n    ? 0\n    : findIndex(items, { value: initialValue });\n\n  const [currentIndex, setCurrentIndex] = useState(defaultIndex);\n\n  const onValueChange = useCallback((event) => {\n    setCurrentIndex(Math.floor(event.nativeEvent.contentOffset.y / itemHeight));\n  }, []);\n\n  const getRowItemByIndex = (index: number) => {\n    return items[index];\n  };\n\n  return {\n    items,\n    onValueChange,\n    currentIndex,\n    defaultIndex: defaultIndex > -1 ? defaultIndex : 0,\n    getRowItemByIndex,\n    height: numberOfVisibleRows * itemHeight,\n  };\n}\n"]}